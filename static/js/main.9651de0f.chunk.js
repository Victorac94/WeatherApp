(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports={card__location:"CardCurrent_card__location__fOSCM",card__currentWeather:"CardCurrent_card__currentWeather__2AOf3",card__weatherIcon:"CardCurrent_card__weatherIcon__36Zld",card__day:"CardCurrent_card__day__1OLUf",card:"CardCurrent_card__11_zo"}},22:function(e,t,a){},35:function(e,t,a){e.exports={showMore:"ShowMore_showMore__7obxi"}},39:function(e,t,a){e.exports=a(76)},47:function(e,t,a){},53:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(28),s=a.n(c),o=a(12),i=a(15),l=a(36),d=(a(47),a(6)),u=a(32),_=a(33),m=a(37),h=a(34),p=a(38),y=a(14),f=a.n(y),v=(a(22),function(e){return n.a.createElement("section",{className:f.a.card+" card"},n.a.createElement("div",{className:f.a.card__location},n.a.createElement("p",null,e.myLocation.name),n.a.createElement("p",null,e.myLocation.country)),n.a.createElement("div",{className:f.a.card__currentWeather},n.a.createElement("p",null,e.isCelsiusActive?e.myCurrent.temp_c.toFixed(0):e.myCurrent.temp_f.toFixed(0),n.a.createElement("span",null,"\xba"),e.isCelsiusActive?"C":"F"),n.a.createElement("i",{className:"icon-right-thin"}),n.a.createElement("span",null,e.myCurrent.condition.text)),n.a.createElement("div",{className:f.a.card__weatherIcon},n.a.createElement("img",{src:e.myCurrent.condition.icon,alt:e.myCurrent.condition.text})),n.a.createElement("div",{className:f.a.card__day},n.a.createElement("p",null,"NOW")))}),E=a(8),C=a.n(E),x=function(e){var t,a,r=null;switch(t=new Date(1e3*e.myForecast.date_epoch).getDay(),a=(new Date).getDay(),t){case 0:r="Sunday";break;case 1:r="Monday";break;case 2:r="Tuesday";break;case 3:r="Wednesday";break;case 4:r="Thursday";break;case 5:r="Friday";break;case 6:r="Saturday";break;default:r="Date"}return t-a===1&&(r="Tomorrow"),n.a.createElement("section",{className:C.a.card+" card"},n.a.createElement("div",{className:C.a.card__location},n.a.createElement("p",null,e.myLocation.name),n.a.createElement("p",null,e.myLocation.country)),n.a.createElement("div",{className:C.a.card__forecastWeather},n.a.createElement("p",{className:C.a.card__forecastWeather__avgTemp},e.isCelsiusActive?e.myForecast.day.avgtemp_c.toFixed(0):e.myForecast.day.avgtemp_f.toFixed(0),n.a.createElement("span",null,"\xba"),e.isCelsiusActive?"C":"F"),n.a.createElement("i",{className:"icon-right-thin"}),n.a.createElement("div",{className:C.a.card__forecastWeather__maxMin},n.a.createElement("div",{className:C.a.card__forecastWeather__maxMin__max},n.a.createElement("span",null,e.isCelsiusActive?e.myForecast.day.maxtemp_c.toFixed(0):e.myForecast.day.maxtemp_f.toFixed(0),"\xba"),n.a.createElement("span",null,"MAX")),n.a.createElement("div",{className:C.a.card__forecastWeather__maxMin__min},n.a.createElement("span",null,e.isCelsiusActive?e.myForecast.day.mintemp_c.toFixed(0):e.myForecast.day.mintemp_f.toFixed(0),"\xba"),n.a.createElement("span",null,"MIN")))),n.a.createElement("div",{className:C.a.card__weatherIcon},n.a.createElement("img",{src:e.myForecast.day.condition.icon,alt:e.myForecast.day.condition.text})),n.a.createElement("div",{className:C.a.card__day},n.a.createElement("p",null,r)))},w=a(35),F=a.n(w),b=function(e){return n.a.createElement("button",{onClick:e.showMore,className:F.a.showMore},n.a.createElement("span",null,"+"))},g=(a(53),"FETCH_WEATHER"),S="FETCH_CITY_WEATHER",W=function(e){return{type:"FETCH_WEATHER_SUCCEED",data:e}},k=function(){return{type:"FETCH_WEATHER_FAILED"}},A=function(e){return{type:"FETCH_CITY_WEATHER_SUCCEED",data:e}},L=function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).state={showLastCards:!1,isCelsiusActive:!0},a.toggleSearchBar=function(){var e=document.querySelector(".searchBox"),t=document.querySelector(".searchBox input");e.classList.contains("searchBoxShow")?(e.classList.remove("searchBoxShow"),t.classList.remove("searchBoxShowInputPadding")):(e.classList.add("searchBoxShow"),t.classList.add("searchBoxShowInputPadding"),t.focus())},a.searchCity=function(e){e.preventDefault();var t=document.querySelector(".searchBox input");a.props.onFetchCityWeather(t.value),t.blur()},a.activateCelsius=function(){var e=document.querySelector(".degreeUnits"),t=e.firstElementChild,r=e.lastElementChild;if(!t.classList.contains("degreeUnits__active")){t.classList.add("degreeUnits__active"),r.classList.remove("degreeUnits__active");var n=Object(d.a)({},a.state);a.setState(Object(d.a)({},n,{isCelsiusActive:!0}))}},a.activateFahrenheit=function(){var e=document.querySelector(".degreeUnits"),t=e.firstElementChild,r=e.lastElementChild;if(t.classList.contains("degreeUnits__active")){t.classList.remove("degreeUnits__active"),r.classList.add("degreeUnits__active");var n=Object(d.a)({},a.state);a.setState(Object(d.a)({},n,{isCelsiusActive:!1}))}},a.showMoreDays=function(){a.setState({showLastCards:!0})},a.positionHeader=function(){var e=window.innerWidth,t=document.querySelector(".App");e>1079?(t.style.setProperty("--positionX","".concat(t.offsetLeft+90,"px")),t.style.setProperty("--positionY","".concat(t.offsetTop,"px"))):(t.style.setProperty("--positionX","0px"),t.style.setProperty("--positionY","0px"))},a.checkIfDesktop=function(){window.innerWidth>1079&&a.setState({showLastCards:!0})},a}return Object(p.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.onFetchWeather(),this.positionHeader(),this.checkIfDesktop(),window.addEventListener("resize",this.positionHeader)}},{key:"render",value:function(){var e,t,a=this;if(this.props.myState.current){e=[],t=[];for(var r=0;r<5;r++){var c=null;0===r?(c=n.a.createElement(v,{key:r,isCelsiusActive:this.state.isCelsiusActive,myCurrent:this.props.myState.current,myLocation:this.props.myState.location}),e.push(c)):3===r||4===r?(c=n.a.createElement(x,{key:r,isCelsiusActive:this.state.isCelsiusActive,myForecast:this.props.myState.forecast.forecastday[r],myLocation:this.props.myState.location}),t.push(c)):(c=n.a.createElement(x,{key:r,isCelsiusActive:this.state.isCelsiusActive,myForecast:this.props.myState.forecast.forecastday[r],myLocation:this.props.myState.location}),e.push(c))}}else e=null,t=null;return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"appHeader"},n.a.createElement("form",{className:"searchBox",onSubmit:function(e){return a.searchCity(e)}},n.a.createElement("input",{type:"text",placeholder:"Search your city..."}),n.a.createElement("span",{className:"searchBox__icon icon-search",onClick:function(){return a.toggleSearchBar()}})),n.a.createElement("h2",null,"Weather"),n.a.createElement("div",{className:"degreeUnits"},n.a.createElement("div",{onClick:function(){return a.activateCelsius()},className:"degreeUnits__celsius degreeUnits__active"},"\xbaC"),n.a.createElement("div",{onClick:function(){return a.activateFahrenheit()},className:"degreeUnits__fahrenheit"},"\xbaF"))),e,this.state.showLastCards?t:null,this.props.myState.current&&!this.state.showLastCards?n.a.createElement(b,{showMore:function(){return a.showMoreDays()}}):null,this.props.myState.error?n.a.createElement("div",{className:"onError"},"Couldn't load the city's weather"):null)}}]),t}(r.Component),N=Object(i.b)(function(e){return{myState:e}},function(e){return{onFetchWeather:function(){return e({type:g,error:!1})},onFetchCityWeather:function(t){return e(function(e){return{type:S,city:e,error:!1}}(t))}}})(L);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var O=function(e,t){return Object(d.a)({},e,t)},T={current:null,forecast:null,location:null,error:!1},j=function(e,t){return O(e,{error:!1})},M=function(e,t){var a=t.data,r=Object(d.a)({},a.current),n=Object(d.a)({},a.forecast),c=Object(d.a)({},a.location);return O(e,{current:r,forecast:n,location:c})},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:case S:return j(e);case"FETCH_WEATHER_SUCCEED":return M(e,t);case"FETCH_WEATHER_FAILED":return function(e,t){return O(e,{error:!0})}(e);case"FETCH_CITY_WEATHER_SUCCEED":return M(e,t);default:return e}},I=a(11),U=a.n(I),D=a(7),B=a(19),R=a.n(B),q=U.a.mark(Y),P=U.a.mark(z);function Y(){var e;return U.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.a.get("https://api.apixu.com/v1/forecast.json?key=54dac3d1c97d4b04927144355181810&q=auto:ip&days=5");case 3:return e=t.sent,t.next=6,Object(D.a)(W(e.data));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(D.a)(k());case 12:case"end":return t.stop()}},q,this,[[0,8]])}function z(e){var t,a;return U.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=encodeURI(e.city),r.next=4,R.a.get("https://api.apixu.com/v1/forecast.json?key=54dac3d1c97d4b04927144355181810&q="+t+"&days=5");case 4:return a=r.sent,r.next=7,Object(D.a)(A(a.data));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(D.a)(k());case 13:case"end":return r.stop()}},P,this,[[0,9]])}var X=U.a.mark(Z);function Z(){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.b)(g,Y);case 2:return e.next=4,Object(D.b)(S,z);case 4:case"end":return e.stop()}},X,this)}var J=o.c,V=Object(l.a)(),$=Object(o.d)(H,J(Object(o.a)(V)));V.run(Z);var G=n.a.createElement(i.a,{store:$},n.a.createElement(N,null));s.a.render(G,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,a){e.exports={card__location:"CardForecast_card__location__FdaZR",card__forecastWeather:"CardForecast_card__forecastWeather__1ekp9",card__forecastWeather__avgTemp:"CardForecast_card__forecastWeather__avgTemp__22WSh",card__forecastWeather__maxMin:"CardForecast_card__forecastWeather__maxMin__1d6T5",card__forecastWeather__maxMin__max:"CardForecast_card__forecastWeather__maxMin__max__3zEtu",card__forecastWeather__maxMin__min:"CardForecast_card__forecastWeather__maxMin__min__3a--1",card__weatherIcon:"CardForecast_card__weatherIcon__3idZo",card__day:"CardForecast_card__day__3Viwa",card:"CardForecast_card__86uwr"}}},[[39,2,1]]]);
//# sourceMappingURL=main.9651de0f.chunk.js.map