(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports={card__location:"CardCurrent_card__location__fOSCM",card__currentWeather:"CardCurrent_card__currentWeather__2AOf3",card__weatherIcon:"CardCurrent_card__weatherIcon__36Zld",card__day:"CardCurrent_card__day__1OLUf",card:"CardCurrent_card__11_zo"}},22:function(e,t,a){},35:function(e,t,a){e.exports={showMore:"ShowMore_showMore__7obxi"}},39:function(e,t,a){e.exports=a(76)},47:function(e,t,a){},53:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a.n(r),n=a(28),s=a.n(n),o=a(12),i=a(15),l=a(36),u=(a(47),a(6)),d=a(32),_=a(33),m=a(37),h=a(34),p=a(38),v=a(14),y=a.n(v),f=(a(22),function(e){return c.a.createElement("section",{className:y.a.card+" card"},c.a.createElement("div",{className:y.a.card__location},c.a.createElement("p",null,e.myLocation.name),c.a.createElement("p",null,e.myLocation.country)),c.a.createElement("div",{className:y.a.card__currentWeather},c.a.createElement("p",null,e.isCelsiusActive?e.myCurrent.temp_c.toFixed(0):e.myCurrent.temp_f.toFixed(0),c.a.createElement("span",null,"\xba"),e.isCelsiusActive?"C":"F"),c.a.createElement("i",{className:"icon-right-thin"}),c.a.createElement("span",null,e.myCurrent.condition.text)),c.a.createElement("div",{className:y.a.card__weatherIcon},c.a.createElement("img",{src:e.myCurrent.condition.icon,alt:e.myCurrent.condition.text})),c.a.createElement("div",{className:y.a.card__day},c.a.createElement("p",null,"NOW")))}),E=a(8),C=a.n(E),w=function(e){var t,a,r=null;switch(t=new Date(1e3*e.myForecast.date_epoch).getDay(),a=(new Date).getDay(),t){case 0:r="Sunday";break;case 1:r="Monday";break;case 2:r="Tuesday";break;case 3:r="Wednesday";break;case 4:r="Thursday";break;case 5:r="Friday";break;case 6:r="Saturday";break;default:r="Date"}return t-a===1&&(r="Tomorrow"),c.a.createElement("section",{className:C.a.card+" card"},c.a.createElement("div",{className:C.a.card__location},c.a.createElement("p",null,e.myLocation.name),c.a.createElement("p",null,e.myLocation.country)),c.a.createElement("div",{className:C.a.card__forecastWeather},c.a.createElement("p",{className:C.a.card__forecastWeather__avgTemp},e.isCelsiusActive?e.myForecast.day.avgtemp_c.toFixed(0):e.myForecast.day.avgtemp_f.toFixed(0),c.a.createElement("span",null,"\xba"),e.isCelsiusActive?"C":"F"),c.a.createElement("i",{className:"icon-right-thin"}),c.a.createElement("div",{className:C.a.card__forecastWeather__maxMin},c.a.createElement("div",{className:C.a.card__forecastWeather__maxMin__max},c.a.createElement("span",null,e.isCelsiusActive?e.myForecast.day.maxtemp_c.toFixed(0):e.myForecast.day.maxtemp_f.toFixed(0),"\xba"),c.a.createElement("span",null,"MAX")),c.a.createElement("div",{className:C.a.card__forecastWeather__maxMin__min},c.a.createElement("span",null,e.isCelsiusActive?e.myForecast.day.mintemp_c.toFixed(0):e.myForecast.day.mintemp_f.toFixed(0),"\xba"),c.a.createElement("span",null,"MIN")))),c.a.createElement("div",{className:C.a.card__weatherIcon},c.a.createElement("img",{src:e.myForecast.day.condition.icon,alt:e.myForecast.day.condition.text})),c.a.createElement("div",{className:C.a.card__day},c.a.createElement("p",null,r)))},x=a(35),F=a.n(x),b=function(e){return c.a.createElement("button",{onClick:e.showMore,className:F.a.showMore},c.a.createElement("span",null,"+"))},g=(a(53),"FETCH_WEATHER"),S="FETCH_CITY_WEATHER",W=function(e){return{type:"FETCH_WEATHER_SUCCEED",data:e}},k=function(){return{type:"FETCH_WEATHER_FAILED"}},L=function(e){return{type:"FETCH_CITY_WEATHER_SUCCEED",data:e}},O=function(e){function t(){var e,a;Object(d.a)(this,t);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(c)))).state={showLastCards:!1,isCelsiusActive:!0},a.toggleSearchBar=function(){var e=document.querySelector(".searchBox"),t=document.querySelector(".searchBox input");return e.classList.contains("searchBoxShow")?e.classList.contains("searchBoxShow")&&""!==t.value.trim()?void a.searchCity(!1):""===t.value?(e.classList.remove("searchBoxShow"),void t.classList.remove("searchBoxShowInputPadding")):void(t.value=""):(e.classList.add("searchBoxShow"),t.classList.add("searchBoxShowInputPadding"),void t.focus())},a.searchCity=function(e){var t=document.querySelector(".searchBox input");t.value=t.value.trim(),e&&e.preventDefault(),""!==t.value&&(a.props.onFetchCityWeather(t.value),t.blur())},a.activateCelsius=function(){var e=document.querySelector(".degreeUnits"),t=e.firstElementChild,r=e.lastElementChild;if(!t.classList.contains("degreeUnits__active")){t.classList.add("degreeUnits__active"),r.classList.remove("degreeUnits__active");var c=Object(u.a)({},a.state);a.setState(Object(u.a)({},c,{isCelsiusActive:!0}))}},a.activateFahrenheit=function(){var e=document.querySelector(".degreeUnits"),t=e.firstElementChild,r=e.lastElementChild;if(t.classList.contains("degreeUnits__active")){t.classList.remove("degreeUnits__active"),r.classList.add("degreeUnits__active");var c=Object(u.a)({},a.state);a.setState(Object(u.a)({},c,{isCelsiusActive:!1}))}},a.showMoreDays=function(){a.setState({showLastCards:!0})},a.checkIfDesktopOrLandscape=function(){var e=window.innerWidth;e>window.innerHeight&&e>=768&&e<=1079?a.setState({showLastCards:!0}):e>1079&&a.setState({showLastCards:!0})},a}return Object(p.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.onFetchWeather(),this.checkIfDesktopOrLandscape(),window.addEventListener("resize",this.checkIfDesktopOrLandscape)}},{key:"render",value:function(){var e,t,a=this;if(this.props.myState.current){e=[],t=[];for(var r=0;r<5;r++){var n=null;0===r?(n=c.a.createElement(f,{key:r,isCelsiusActive:this.state.isCelsiusActive,myCurrent:this.props.myState.current,myLocation:this.props.myState.location}),e.push(n)):3===r||4===r?(n=c.a.createElement(w,{key:r,isCelsiusActive:this.state.isCelsiusActive,myForecast:this.props.myState.forecast.forecastday[r],myLocation:this.props.myState.location}),t.push(n)):(n=c.a.createElement(w,{key:r,isCelsiusActive:this.state.isCelsiusActive,myForecast:this.props.myState.forecast.forecastday[r],myLocation:this.props.myState.location}),e.push(n))}}else e=null,t=null;return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"appHeader"},c.a.createElement("form",{className:"searchBox",onSubmit:function(e){return a.searchCity(e)}},c.a.createElement("input",{type:"text",placeholder:"Search your city..."}),c.a.createElement("span",{className:"searchBox__icon icon-search",onClick:function(){return a.toggleSearchBar()}})),c.a.createElement("h2",null,"Weather"),c.a.createElement("div",{className:"degreeUnits"},c.a.createElement("div",{onClick:function(){return a.activateCelsius()},className:"degreeUnits__celsius degreeUnits__active"},"\xbaC"),c.a.createElement("div",{onClick:function(){return a.activateFahrenheit()},className:"degreeUnits__fahrenheit"},"\xbaF"))),e,this.state.showLastCards?t:null,this.props.myState.current&&!this.state.showLastCards?c.a.createElement(b,{showMore:function(){return a.showMoreDays()}}):null,this.props.myState.error?c.a.createElement("div",{className:"onError"},"Couldn't load the city's weather"):null)}}]),t}(r.Component),A=Object(i.b)(function(e){return{myState:e}},function(e){return{onFetchWeather:function(){return e({type:g,error:!1})},onFetchCityWeather:function(t){return e(function(e){return{type:S,city:e,error:!1}}(t))}}})(O);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=function(e,t){return Object(u.a)({},e,t)},T={current:null,forecast:null,location:null,error:!1},j=function(e,t){return N(e,{error:!1})},M=function(e,t){var a=t.data,r=Object(u.a)({},a.current),c=Object(u.a)({},a.forecast),n=Object(u.a)({},a.location);return N(e,{current:r,forecast:c,location:n})},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:case S:return j(e);case"FETCH_WEATHER_SUCCEED":return M(e,t);case"FETCH_WEATHER_FAILED":return function(e,t){return N(e,{error:!0})}(e);case"FETCH_CITY_WEATHER_SUCCEED":return M(e,t);default:return e}},D=a(11),H=a.n(D),U=a(7),B=a(19),R=a.n(B),q=H.a.mark(Y),z=H.a.mark(Z);function Y(){var e;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.a.get("https://api.apixu.com/v1/forecast.json?key=54dac3d1c97d4b04927144355181810&q=auto:ip&days=5");case 3:return e=t.sent,t.next=6,Object(U.a)(W(e.data));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(U.a)(k());case 12:case"end":return t.stop()}},q,this,[[0,8]])}function Z(e){var t,a;return H.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=encodeURI(e.city),r.next=4,R.a.get("https://api.apixu.com/v1/forecast.json?key=54dac3d1c97d4b04927144355181810&q="+t+"&days=5");case 4:return a=r.sent,r.next=7,Object(U.a)(L(a.data));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(U.a)(k());case 13:case"end":return r.stop()}},z,this,[[0,9]])}var J=H.a.mark(P);function P(){return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.b)(g,Y);case 2:return e.next=4,Object(U.b)(S,Z);case 4:case"end":return e.stop()}},J,this)}var V=o.c,X=Object(l.a)(),$=Object(o.d)(I,V(Object(o.a)(X)));X.run(P);var G=c.a.createElement(i.a,{store:$},c.a.createElement(A,null));s.a.render(G,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,a){e.exports={card__location:"CardForecast_card__location__FdaZR",card__forecastWeather:"CardForecast_card__forecastWeather__1ekp9",card__forecastWeather__avgTemp:"CardForecast_card__forecastWeather__avgTemp__22WSh",card__forecastWeather__maxMin:"CardForecast_card__forecastWeather__maxMin__1d6T5",card__forecastWeather__maxMin__max:"CardForecast_card__forecastWeather__maxMin__max__3zEtu",card__forecastWeather__maxMin__min:"CardForecast_card__forecastWeather__maxMin__min__3a--1",card__weatherIcon:"CardForecast_card__weatherIcon__3idZo",card__day:"CardForecast_card__day__3Viwa",card:"CardForecast_card__86uwr"}}},[[39,2,1]]]);
//# sourceMappingURL=main.53420bae.chunk.js.map